(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aa1ab1e4"],{"07ac":function(e,t,a){var n=a("23e7"),r=a("6f53").values;n({target:"Object",stat:!0},{values:function(e){return r(e)}})},"365c":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));a("d3b7");var n=a("bc3a"),r=a.n(n);r.a.defaults.timeout=5e5,r.a.defaults.headers.post["Content-Type"]="application/json",r.a.interceptors.request.use((function(e){return e.headers.token=window.sessionStorage.getItem("token"),e}),(function(e){return Promise.reject(e)})),r.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var i=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.a.post(e,t,a).then((function(e){return e.data}))},o=function(e,t){return r.a.get(e,{params:t}).then((function(e){return e.data}))}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("1d80"),r=a("5899"),i="["+r+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),l=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(o,"")),2&e&&(a=a.replace(s,"")),a}};e.exports={start:l(1),end:l(2),trim:l(3)}},5986:function(e,t,a){"use strict";a("99af");var n=a("365c");t["a"]={apiChannelsList:function(e){return n["b"]("boss/v1.0/channels",e)},apiChannelsAdd:function(e){return n["b"]("boss/v1.0/channels/add",e)},apiChannelsQrcode:function(e){return n["b"]("boss/v1.0/channels/qrcode",e)},apiChannelsAllList:function(e){return n["a"]("boss/v1.0/channels/all",e)},apiChannelsCards:function(e){return n["b"]("boss/v1.0/channels/cards",e)},apiChannelsCardsDistribute:function(e){return n["b"]("boss/v1.0/channels/cards/distribute",e)},apiChannelsCardsDistributeFile:function(e){return n["b"]("boss/v1.0/channels/cards/distribute/fileimport",e)},apiChannelsCardsUpload:function(e,t){return n["b"]("boss/v1.0/channels/cards/distribute/upload?channelId=".concat(e),t,{headers:{"content-type":"multipart/form-data"}})},apiChannelsCardsDistributeIccid:function(e){return n["b"]("boss/v1.0/channels/cards/distribute/iccids",e)},apiChannelsCardDownload:function(e){var t=e.channelId,a=e.iccidStart,r=e.iccidEnd;return n["a"]("/boss/v1.0/channels/card/download/".concat(t,"/").concat(a,"/").concat(r))},apiChannelsDetails:function(e){return n["b"]("boss/v1.0/channels/details",e)},apiChannelsModify:function(e){return n["b"]("boss/v1.0/channels/modify",e)},apiChannelsPackages:function(e){return n["b"]("boss/v1.0/channels/packages",e)},apiGoodsList:function(e){return n["b"]("boss/v1.0/goods",e)},apiChannelsPackagesAdd:function(e){return n["b"]("boss/v1.0/channels/packages/add",e)},apiChannelsGoodsModify:function(e){return n["b"]("boss/v1.0/channels/goods/modify",e)},apiChannelsPackagesStatusModify:function(e){return n["b"]("boss/v1.0/channels/packages/status/modify",e)},apiChannelsStatusModify:function(e){return n["b"]("boss/v1.0/channels/status/modify",e)},apiProvincesList:function(e){return n["a"]("boss/v1.0/provinces",e)},apiPackagesList:function(e){return n["b"]("boss/v1.0/packages",e)}}},"6f53":function(e,t,a){var n=a("83ab"),r=a("df75"),i=a("fc6a"),o=a("d1e7").f,s=function(e){return function(t){var a,s=i(t),l=r(s),c=l.length,d=0,u=[];while(c>d)a=l[d++],n&&!o.call(s,a)||u.push(e?[a,s[a]]:s[a]);return u}};e.exports={entries:s(!0),values:s(!1)}},"6f95":function(e,t,a){"use strict";var n=a("c6be"),r=a.n(n);r.a},a258:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tree",staticClass:"filter-tree",staticStyle:{"margin-top":"10px"},attrs:{data:e.channelTree,props:e.defaultProps,"filter-node-method":e.filterNode,"node-key":"channelId","default-expanded-keys":[2]},on:{"node-click":e.handleNodeClick}})],1)},r=[],i=(a("4de4"),a("c975"),a("d81d"),a("07ac"),a("5986")),o={data:function(){return{filterText:"",defaultProps:{children:"children",label:"channelName",id:"channelId"},channelTreeList:[],channelId:"",loading:!1}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},mounted:function(){this.getChannelTree()},computed:{channelTree:function(){for(var e=JSON.parse(JSON.stringify(this.channelTreeList)),t=[],a={},n=0,r=0,i=e.length;n<i;n++)a[e[n]["channelId"]]=e[n];for(;r<i;r++){var o=e[r],s=a[o["parentChannelId"]];s?(s["children"]||(s["children"]=[]),s["children"].push(o)):t.push(o)}var l=t[0];return this.$emit("channelChick",l),t}},methods:{getChannelTree:function(){var e=this;this.loading=!0,i["a"].apiChannelsAllList().then((function(t){0===t.resultCode?(e.channelTreeList=Object.values(t.data).map((function(e){return{channelId:e.channelId,channelName:e.channelName,manager:e.manager,parentChannelId:e.parentChannelId}})),e.channelTreeList.sort((function(e,t){return e["channelName"].localeCompare(t["channelName"])})),e.loading=!1):e.$message.error(t.resultInfo)}))},filterNode:function(e,t){return!e||-1!==t.channelName.indexOf(e)},handleNodeClick:function(e){var t=e.channelId,a=e.channelName;this.$emit("getChannelId",t,a)}}},s=o,l=a("2877"),c=Object(l["a"])(s,n,r,!1,null,null,null);t["a"]=c.exports},a9e3:function(e,t,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("94ca"),o=a("6eeb"),s=a("5135"),l=a("c6b6"),c=a("7156"),d=a("c04e"),u=a("d039"),p=a("7c73"),h=a("241c").f,f=a("06cf").f,m=a("9bf2").f,g=a("58a8").trim,v="Number",C=r[v],b=C.prototype,k=l(p(b))==v,I=function(e){var t,a,n,r,i,o,s,l,c=d(e,!1);if("string"==typeof c&&c.length>2)if(c=g(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(i=c.slice(2),o=i.length,s=0;s<o;s++)if(l=i.charCodeAt(s),l<48||l>r)return NaN;return parseInt(i,n)}return+c};if(i(v,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var P,w=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof w&&(k?u((function(){b.valueOf.call(a)})):l(a)!=v)?c(new C(I(t)),a,w):I(t)},y=n?h(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),F=0;y.length>F;F++)s(C,P=y[F])&&!s(w,P)&&m(w,P,f(C,P));w.prototype=b,b.constructor=w,o(r,v,w)}},c6be:function(e,t,a){},c975:function(e,t,a){"use strict";var n=a("23e7"),r=a("4d64").indexOf,i=a("a640"),o=a("ae40"),s=[].indexOf,l=!!s&&1/[1].indexOf(1,-0)<0,c=i("indexOf"),d=o("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:l||!c||!d},{indexOf:function(e){return l?s.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},d1ae:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box_subject"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("channelTree",{staticStyle:{"max-height":"680px",overflow:"auto"},on:{channelChick:e.channelChick,getChannelId:e.getChannelId}})],1),a("el-col",{attrs:{span:18}},[a("el-card",[a("el-form",{ref:"queryInventoryForm",attrs:{inline:!0},model:{value:e.queryInventoryForm,callback:function(t){e.queryInventoryForm=t},expression:"queryInventoryForm"}},[a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"套餐名"}},[a("el-select",{attrs:{filterable:"",placeholder:"请输入套餐关键词"},model:{value:e.queryInventoryForm.packageId,callback:function(t){e.$set(e.queryInventoryForm,"packageId",t)},expression:"queryInventoryForm.packageId"}},e._l(e.porductsListOptions,(function(e){return a("el-option",{key:e.packageId,attrs:{label:e.packageName,value:e.packageId}})})),1)],1),a("el-form-item",{staticClass:"queryFormItem"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.getchannelPackageAllocationList(e.channelIdTree)}}},[e._v("查询")])],1)],1),a("div",{staticClass:"button_content"},[a("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-plus"},on:{click:e.addChannelPackageShow}},[e._v("新增")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.channelPackageAllocationList,border:"","max-height":"510",align:"center","cell-style":{height:"38px",padding:0}}},e._l(e.table_column,(function(t,n){return a("el-table-column",{key:n,attrs:{prop:t.prop,label:t.label,width:t.width,align:"center",fixed:!!t.fixed&&t.fixed,"show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(n){return["clearTypeCL"==t.prop?a("div",[1==n.row.clearType?a("span",[e._v("27号")]):0==n.row.clearType?a("span",[e._v("自然月")]):e._e()]):e._e(),"packageGoodName"==t.prop?a("div",[e._v(" "+e._s(n.row.packageName)+" ")]):e._e(),"packageTypeCL"==t.prop?a("div",[0==n.row.packageType?a("span",[e._v("套餐")]):1==n.row.packageType?a("span",[e._v("加油包")]):a("span")]):e._e(),"netWorkAreaCL"==t.prop?a("div",[0==n.row.netWorkArea?a("span",[e._v("省内")]):e._e(),1==n.row.netWorkArea?a("span",[e._v("全国")]):e._e()]):e._e(),"statusCL"==t.prop?a("div",[1==n.row.status?a("span",[e._v("上架")]):0==n.row.status?a("span",[e._v("下架")]):2==n.row.status?a("span",[e._v("回收")]):e._e()]):e._e(),"networkTotalQG"==t.prop?a("div",[a("span",{directives:[{name:"show",rawName:"v-show",value:1==n.row.netWorkArea,expression:"scope.row.netWorkArea == 1"}]},[e._v(e._s(n.row.networkTotal))])]):e._e(),"networkTotalSN"==t.prop?a("div",[a("span",{directives:[{name:"show",rawName:"v-show",value:0==n.row.netWorkArea,expression:"scope.row.netWorkArea == 0"}]},[e._v(e._s(n.row.networkTotal))])]):e._e(),"operation"==t.prop?a("div",[0===n.row.status||2===n.row.status?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.deactivation(n.row,1)}}},[e._v("上架")]):e._e(),1===n.row.status||0===n.row.status?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.deactivation(n.row,2)}}},[e._v("上架不显示")]):e._e(),2===n.row.status||1===n.row.status?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.deactivation(n.row,0)}}},[e._v("下架")]):e._e(),a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.modityChannelGoods(n.row)}}},[e._v("编辑")])],1):a("div",[a("div",{domProps:{innerHTML:e._s(n.row[t.prop])}})])]}}],null,!0)})})),1),a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1),a("addChanelPCG",{ref:"addChanelPCGRef",attrs:{porductsListOptions:e.porductsListOptions,statusOptions:e.statusOptions,provincesList:e.provincesList,typeOptions:e.typeOptions},on:{addChanelPCGSuccess:e.addChanelPCGSuccess}}),a("el-dialog",{attrs:{title:"修改商品",visible:e.editVisible,width:"430px","close-on-click-modal":!1,"destroy-on-close":!0,top:"5vh"},on:{"update:visible":function(t){e.editVisible=t}}},[a("el-form",{ref:"editFormRef",attrs:{model:e.editForm,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"商品显示名"}},[a("el-input",{attrs:{placeholder:"请输入商品显示名"},model:{value:e.editForm.nickName,callback:function(t){e.$set(e.editForm,"nickName",t)},expression:"editForm.nickName"}})],1),a("el-form-item",{attrs:{label:"原始价格"}},[a("el-input",{attrs:{placeholder:"请输入原始价格"},model:{value:e.editForm.orgPrice,callback:function(t){e.$set(e.editForm,"orgPrice",e._n(t))},expression:"editForm.orgPrice"}})],1),a("el-form-item",{attrs:{label:"销售价格"}},[a("el-input",{attrs:{placeholder:"请输入销售价格"},model:{value:e.editForm.salePrice,callback:function(t){e.$set(e.editForm,"salePrice",e._n(t))},expression:"editForm.salePrice"}})],1),a("el-form-item",{attrs:{label:"商品说明"}},[a("el-input",{attrs:{placeholder:"请输入商品说明"},model:{value:e.editForm.description,callback:function(t){e.$set(e.editForm,"description",t)},expression:"editForm.description"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择状态"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",staticStyle:{"text-align":"right",display:"block","margin-right":"10px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editIt()}}},[e._v("确 定")])],1)],1)],1)},r=[],i=(a("a4d3"),a("e01a"),a("4de4"),a("d81d"),a("a9e3"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增渠道商品配置",visible:e.dialogVisible,width:"430px","close-on-click-modal":!1,"destroy-on-close":!0,top:"5vh"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addChanelPCGRef",attrs:{model:e.addChanelPCGForm,rules:e.addChanelPCGRules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"商品类型",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择商品类型"},on:{change:e.goodsTypeChange},model:{value:e.addChanelPCGForm.type,callback:function(t){e.$set(e.addChanelPCGForm,"type",t)},expression:"addChanelPCGForm.type"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"商品名",prop:"goodId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",filterable:"",placeholder:"请选择商品"},model:{value:e.addChanelPCGForm.goodId,callback:function(t){e.$set(e.addChanelPCGForm,"goodId",t)},expression:"addChanelPCGForm.goodId"}},e._l(e.packageList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.provinceShow,expression:"provinceShow"}],attrs:{label:"省内流量归属地",prop:"provinceIds"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",multiple:"",filterable:"",placeholder:"请输入归属地关键词"},model:{value:e.addChanelPCGForm.provinceIds,callback:function(t){e.$set(e.addChanelPCGForm,"provinceIds",t)},expression:"addChanelPCGForm.provinceIds"}},e._l(e.provincesList,(function(e){return a("el-option",{key:e.provinceId,attrs:{label:e.provinceName,value:e.provinceId}})})),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.cardFeeShow,expression:"cardFeeShow"}],attrs:{label:"卡费",prop:"cardGoodId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",filterable:"",placeholder:"请输入卡费"},model:{value:e.addChanelPCGForm.cardGoodId,callback:function(t){e.$set(e.addChanelPCGForm,"cardGoodId",t)},expression:"addChanelPCGForm.cardGoodId"}},e._l(e.cardFeeList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"套餐显示名",prop:"nickName"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入套餐显示名"},model:{value:e.addChanelPCGForm.nickName,callback:function(t){e.$set(e.addChanelPCGForm,"nickName",t)},expression:"addChanelPCGForm.nickName"}})],1),a("el-form-item",{attrs:{label:"套餐备注",prop:"description"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入套餐备注"},model:{value:e.addChanelPCGForm.description,callback:function(t){e.$set(e.addChanelPCGForm,"description",t)},expression:"addChanelPCGForm.description"}})],1),a("el-form-item",{attrs:{label:"原价",prop:"orgPrice"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入原价"},model:{value:e.addChanelPCGForm.orgPrice,callback:function(t){e.$set(e.addChanelPCGForm,"orgPrice",e._n(t))},expression:"addChanelPCGForm.orgPrice"}})],1),a("el-form-item",{attrs:{label:"销售价",prop:"salePrice"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入销售价"},model:{value:e.addChanelPCGForm.salePrice,callback:function(t){e.$set(e.addChanelPCGForm,"salePrice",e._n(t))},expression:"addChanelPCGForm.salePrice"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择状态"},model:{value:e.addChanelPCGForm.status,callback:function(t){e.$set(e.addChanelPCGForm,"status",t)},expression:"addChanelPCGForm.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeButton}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadIt()}}},[e._v("确 定")])],1)],1)}),o=[],s=a("5986"),l={props:["statusOptions","porductsListOptions","provincesList","typeOptions"],components:{},data:function(){return{dialogVisible:!1,addChanelPCGForm:{type:null,cardGoodId:null,channelId:sessionStorage.getItem("channelId"),description:null,goodId:null,nickName:null,orgPrice:null,provinceIds:[],salePrice:null,status:null},channelId:null,packageList:[],cardFeeList:[],cardFeeShow:!0,provinceShow:!0,addChanelPCGRules:{type:[{required:!0,message:"请选择商品类型",trigger:"change"}],goodId:[{required:!0,message:"请选择商品",trigger:"change"}],nickName:[{required:!0,message:"请输入套餐显示名",trigger:"change"}],orgPrice:[{type:"number",message:"原始价必须为数字值"}],salePrice:[{type:"number",message:"销售价必须为数字值"}]}}},created:function(){this.channelId=sessionStorage.getItem("channelId"),this.getGoodsList()},methods:{goodsTypeChange:function(e){0===e&&(this.packageList=this.GoodsList.filter((function(e){return 0===e.type})).map((function(e){return e})),this.cardFeeShow=!0,this.provinceShow=!0),1===e&&(this.packageList=this.GoodsList.filter((function(e){return 1===e.type})).map((function(e){return e})),this.cardFeeShow=!1,this.provinceShow=!0),2===e&&(this.packageList=this.GoodsList.filter((function(e){return 3===e.type})).map((function(e){return e})),this.cardFeeShow=!1,this.provinceShow=!1)},getGoodsList:function(){var e=this,t={page:0,pageSize:1e4};s["a"].apiGoodsList(t).then((function(t){0===t.resultCode?(e.GoodsList=t.data,e.cardFeeList=e.GoodsList.filter((function(e){return 2===e.type})).map((function(e){return e}))):e.$message.error(t.resultInfo)}))},uploadIt:function(){var e=this;this.$refs.addChanelPCGRef.validate((function(t){if(t){var a={cardGoodId:e.addChanelPCGForm.cardGoodId,channelId:Number(sessionStorage.getItem("channelId")),description:e.addChanelPCGForm.description,goodId:e.addChanelPCGForm.goodId,nickName:e.addChanelPCGForm.nickName,orgPrice:e.addChanelPCGForm.orgPrice,provinceIds:e.addChanelPCGForm.provinceIds,salePrice:e.addChanelPCGForm.salePrice,status:e.addChanelPCGForm.status};e.$emit("addChanelPCGSuccess",a),e.dialogVisible=!1,e.$refs.addChanelPCGRef.resetFields()}}))},closeButton:function(){this.dialogVisible=!1,this.$refs.addChanelPCGRef.resetFields()}}},c=l,d=a("2877"),u=Object(d["a"])(c,i,o,!1,null,null,null),p=u.exports,h=a("a258"),f={name:"",components:{addChanelPCG:p,channelTree:h["a"]},data:function(){return{channelPackageAllocationList:[],page:1,pageSize:10,total:0,table_column:[{prop:"packageName",label:"套餐/商品名",width:150,fixed:"left"},{prop:"nickName",label:"显示名",width:300},{prop:"packageNo",label:"商品编号",width:80},{prop:"packageTypeCL",label:"商品类型",width:100},{prop:"networkTotalQG",label:"全国流量(MB)",width:80},{prop:"networkTotalSN",label:"省内流量(MB)",width:80},{prop:"netWorkAreaCL",label:"流量区域",width:80},{prop:"provinceName",label:"归属地",width:80},{prop:"voiceTotal",label:"语音(分钟)",width:80},{prop:"cardFee",label:"卡费",width:80},{prop:"orignPrice",label:"原始价(元)",width:80},{prop:"salePrice",label:"销售价(元)",width:80},{prop:"clearPeriod",label:"用量清零周期(月)",width:110},{prop:"validMoth",label:"产品有效期(月)",width:100},{prop:"clearTypeCL",label:"用量清算方式",width:110},{prop:"description",label:"备注",width:100},{prop:"statusCL",label:"状态",width:80},{prop:"operation",label:"操作",width:260,fixed:"right"}],queryInventoryForm:{packageId:"",page:0,pageSize:10},porductsListOptions:[],statusOptions:[{label:"上架",value:1},{label:"下架",value:0},{label:"上架不显示",value:2}],typeOptions:[{label:"套餐",value:0},{label:"加油包",value:1},{label:"充值金额",value:2}],addChannelPackageDialogVisible:!1,provincesList:[],channelIdTree:null,editVisible:!1,editForm:{description:null,id:null,nickName:null,orgPrice:null,salePrice:null,status:null},loading:!1}},mounted:function(){this.getchannelPackageAllocationList(),this.getPorductsListOptions(),this.getProvincesList()},methods:{channelChick:function(e){if(e){var t=e.channelId;sessionStorage.setItem("channelId",t),this.channelIdTree=sessionStorage.getItem("channelId"),this.getchannelPackageAllocationList(t)}},getChannelId:function(e){this.channelsID=e,sessionStorage.setItem("channelId",e),this.getchannelPackageAllocationList(e),this.channelIdTree=sessionStorage.getItem("channelId")},getchannelPackageAllocationList:function(e){if(e){var t={channelId:e};this.apiChannelsPackages(t)}else;},apiChannelsPackages:function(e){var t=this,a=this.queryInventoryForm,n=Object.assign(a,e);this.loading=!0,s["a"].apiChannelsPackages(n).then((function(e){0===e.resultCode?(t.channelPackageAllocationList=e.data,t.total=e.rowNum,t.loading=!1):t.$message.error(e.resultInfo)}))},handleSizeChange:function(e){this.queryInventoryForm.pageSize=e,this.getchannelPackageAllocationList(this.channelIdTree)},handleCurrentChange:function(e){this.queryInventoryForm.page=e-1,this.getchannelPackageAllocationList(this.channelIdTree)},getProvincesList:function(){var e=this;s["a"].apiProvincesList().then((function(t){0===t.resultCode?e.provincesList=t.data:e.$message.error(t.resultInfo)}))},getPorductsListOptions:function(){var e=this,t={page:0,pageSize:100,packageType:0};s["a"].apiPackagesList(t).then((function(t){0===t.resultCode?e.porductsListOptions=t.data:e.$message.error(t.resultInfo)}))},addChannelPackageShow:function(){null===this.channelIdTree||""===this.channelIdTree?this.$message.error("请选择渠道"):this.$refs.addChanelPCGRef.dialogVisible=!0},addChanelPCGSuccess:function(e){var t=this;s["a"].apiChannelsPackagesAdd(e).then((function(e){0===e.resultCode?(t.$message.success("添加成功！"),t.getchannelPackageAllocationList(t.channelIdTree)):t.$message.error(e.resultInfo)}))},deactivation:function(e,t){var a=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n={packageId:e.id,status:t};s["a"].apiChannelsPackagesStatusModify(n).then((function(e){0===e.resultCode?(a.$message.success("操作成功！"),a.getchannelPackageAllocationList(a.channelIdTree)):a.$message.error(e.resultInfo)}))})).catch((function(){}))},getGoodsList:function(){var e=this,t={page:0,pageSize:1e4};s["a"].apiGoodsList(t).then((function(t){0===t.resultCode?(e.GoodsList=t.data,e.cardFeeList=e.GoodsList.filter((function(e){return 2===e.type})).map((function(e){return e}))):e.$message.error(t.resultInfo)}))},modityChannelGoods:function(e){this.editForm.description=e.description,this.editForm.id=e.id,this.editForm.nickName=e.nickName,this.editForm.orgPrice=Number(e.orignPrice),this.editForm.salePrice=Number(e.salePrice),this.editForm.status=e.status,this.editVisible=!0},editIt:function(){var e=this;this.$refs.editFormRef.validate((function(t){if(t){var a=JSON.stringify(e.editForm);e.editPackageSuccess(a)}}))},editPackageSuccess:function(e){var t=this;s["a"].apiChannelsGoodsModify(e).then((function(e){0===e.resultCode?(t.$message.success("编辑成功！"),t.getchannelPackageAllocationList(t.channelIdTree),t.editVisible=!1,t.$refs.editFormRef.resetFields()):t.$message.error(e.resultInfo)}))}}},m=f,g=(a("6f95"),Object(d["a"])(m,n,r,!1,null,"71646c28",null));t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-aa1ab1e4.9cb72e0d.js.map